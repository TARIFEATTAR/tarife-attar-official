/**
 * Atlas Collection Rebrand - Product Migration Data
 * 
 * This file contains the complete mapping from old product names to new Atlas Collection names.
 * Used by the migration script to update Sanity products.
 */

// ============================================================================
// EMBER TERRITORY - Warm, spice, amber, musk ($28 / $48)
// ============================================================================
export const EMBER_PRODUCTS = [
  {
    newName: 'BELOVED',
    formerName: 'Granada Amber',
    slug: 'beloved',
    scentProfile: 'Amber, warmth',
    territory: 'ember',
    price6ml: 28,
    price12ml: 48,
    notes: null,
  },
  {
    newName: 'CARAVAN',
    formerName: 'Honey Oudh',
    slug: 'caravan',
    scentProfile: 'Honey, oudh',
    territory: 'ember',
    price6ml: 28,
    price12ml: 48,
    notes: 'Top seller',
  },
  {
    newName: 'DUNE',
    formerName: 'Vanilla Sands',
    slug: 'dune',
    scentProfile: 'Vanilla, sand',
    territory: 'ember',
    price6ml: 28,
    price12ml: 48,
    notes: null,
  },
  {
    newName: 'CLOSE',
    formerName: 'Teeb Musk',
    slug: 'close',
    scentProfile: 'Musk, intimate',
    territory: 'ember',
    price6ml: 28,
    price12ml: 48,
    notes: null,
  },
  {
    newName: 'ROGUE',
    formerName: 'Oud Fire',
    slug: 'rogue',
    scentProfile: 'Smoky oud, fire',
    territory: 'ember',
    price6ml: 28,
    price12ml: 48,
    notes: 'Inspired by Fareed from Arabian Oud',
  },
  {
    newName: 'DUBAI',
    formerName: 'Dubai Musk',
    slug: 'dubai',
    scentProfile: 'Musk, opulent',
    territory: 'ember',
    price6ml: 28,
    price12ml: 48,
    notes: 'Geographic name',
  },
  {
    newName: 'CLARITY',
    formerName: 'Himalayan Musk',
    slug: 'clarity',
    scentProfile: 'Clean musk, crisp',
    territory: 'ember',
    price6ml: 28,
    price12ml: 48,
    notes: null,
  },
  {
    newName: 'DEVOTION',
    formerName: 'Frankincense & Myrrh',
    slug: 'devotion',
    scentProfile: 'Sacred resins',
    territory: 'ember',
    price6ml: 28,
    price12ml: 48,
    notes: 'Strong seller',
  },
  {
    newName: 'OBSIDIAN',
    formerName: 'Black Musk',
    slug: 'obsidian',
    scentProfile: 'Dark musk',
    territory: 'ember',
    price6ml: 28,
    price12ml: 48,
    notes: null,
  },
  {
    newName: 'ANCIENT',
    formerName: 'Cairo Musk',
    slug: 'ancient',
    scentProfile: 'Musk, heritage',
    territory: 'ember',
    price6ml: 28,
    price12ml: 48,
    notes: null,
  },
];

// ============================================================================
// TERRA TERRITORY - Oud, woody, deep forest ($33 / $55)
// ============================================================================
export const TERRA_PRODUCTS = [
  {
    newName: 'SICILY',
    formerName: 'Sicilian Oudh',
    slug: 'sicily',
    scentProfile: 'Bergamot, pink pepper, leather, vetiver',
    territory: 'terra',
    price6ml: 33,
    price12ml: 55,
    notes: 'Geographic name',
  },
  {
    newName: 'MARRAKESH',
    formerName: 'Marrakesh',
    slug: 'marrakesh',
    scentProfile: 'Leather, spice, oud',
    territory: 'terra',
    price6ml: 33,
    price12ml: 55,
    notes: 'Keep name — Penhaligon\'s Halfeti Leather inspired',
  },
  {
    newName: 'HAVANA',
    formerName: 'Oud & Tobacco',
    slug: 'havana',
    scentProfile: 'Tobacco, smoky, cigar lounge',
    territory: 'terra',
    price6ml: 33,
    price12ml: 55,
    notes: 'Geographic name',
  },
  {
    newName: 'REGALIA',
    formerName: 'Oud Aura',
    slug: 'regalia',
    scentProfile: 'Royal oud, luxurious',
    territory: 'terra',
    price6ml: 33,
    price12ml: 55,
    notes: 'Inspired by Amouage Oud Ulya',
  },
  {
    newName: 'ONYX',
    formerName: 'Black Ambergris',
    slug: 'onyx',
    scentProfile: 'Smoky, dark, regal',
    territory: 'terra',
    price6ml: 33,
    price12ml: 55,
    notes: null,
  },
];

// ============================================================================
// PETAL TERRITORY - Floral, feminine, soft ($30 / $50)
// ============================================================================
export const PETAL_PRODUCTS = [
  {
    newName: 'JASMINE',
    formerName: 'Arabian Jasmine',
    slug: 'jasmine',
    scentProfile: 'Pure jasmine',
    territory: 'petal',
    price6ml: 30,
    price12ml: 50,
    notes: 'Let the flower own it',
  },
  {
    newName: 'DAMASCUS',
    formerName: 'Turkish Rose',
    slug: 'damascus',
    scentProfile: 'Damascus rose',
    territory: 'petal',
    price6ml: 30,
    price12ml: 50,
    notes: 'References Damascus rose origin',
  },
  {
    newName: 'RITUAL',
    formerName: 'White Egyptian Musk',
    slug: 'ritual',
    scentProfile: 'White musk, sacred',
    territory: 'petal',
    price6ml: 30,
    price12ml: 50,
    notes: 'Boho/Riddle energy — intentional, sacred',
  },
  {
    newName: 'TAHARA',
    formerName: 'Musk Tahara',
    slug: 'tahara',
    scentProfile: 'Pure musk',
    territory: 'petal',
    price6ml: 30,
    price12ml: 50,
    notes: 'Keep — means "purity" in Arabic',
  },
  {
    newName: 'CHERISH',
    formerName: 'Peach Memoir',
    slug: 'cherish',
    scentProfile: 'Peach, soft floral',
    territory: 'petal',
    price6ml: 30,
    price12ml: 50,
    notes: 'Inspired by Madaawi from Arabian Oud',
  },
];

// ============================================================================
// TIDAL TERRITORY - Fresh, aquatic, citrus ($30 / $50)
// ============================================================================
export const TIDAL_PRODUCTS = [
  {
    newName: 'DELMAR',
    formerName: 'Del Mare',
    slug: 'delmar',
    scentProfile: 'Ocean, marine',
    territory: 'tidal',
    price6ml: 30,
    price12ml: 50,
    notes: 'Inspired by Orto Parisi Megamare',
  },
  {
    newName: 'FATHOM',
    formerName: 'Blue Oudh',
    slug: 'fathom',
    scentProfile: 'Ocean depth, rare oud',
    territory: 'tidal',
    price6ml: 30,
    price12ml: 50,
    notes: null,
  },
  {
    newName: 'KYOTO',
    formerName: 'China Rain',
    slug: 'kyoto',
    scentProfile: 'Zen, fresh, green',
    territory: 'tidal',
    price6ml: 30,
    price12ml: 50,
    notes: 'Geographic name',
  },
  {
    newName: 'BAHIA',
    formerName: 'Coconut Jasmine',
    slug: 'bahia',
    scentProfile: 'Brazilian coast, tropical',
    territory: 'tidal',
    price6ml: 30,
    price12ml: 50,
    notes: 'Geographic name',
  },
  {
    newName: 'REGATTA',
    formerName: 'Regatta',
    slug: 'regatta',
    scentProfile: 'Nautical, crisp',
    territory: 'tidal',
    price6ml: 30,
    price12ml: 50,
    notes: 'Keep — nautical, masculine, sophisticated',
  },
];

// ============================================================================
// RELIC COLLECTION - Premium/pure materials (priced individually)
// ============================================================================
export const RELIC_PRODUCTS = [
  {
    newName: 'MAJMUA',
    formerName: null, // Traditional name kept
    slug: 'majmua',
    scentProfile: 'Classic woody/floral/musky blend',
    type: 'Traditional Attar',
    notes: 'Traditional attar',
  },
  {
    newName: 'MUKHALLAT EMIRATES',
    formerName: null, // Traditional name kept
    slug: 'mukhallat-emirates',
    scentProfile: 'Rose, saffron, oud, amber',
    type: 'Traditional Mukhallat',
    notes: 'Traditional mukhallat',
  },
];

// ============================================================================
// ARCHIVE - DO NOT MIGRATE (sell through on Etsy)
// ============================================================================
export const ARCHIVE_PRODUCTS = [
  { name: 'Egyptian Musk', reason: 'Paraben formulation' },
  { name: 'White Amber', reason: 'Nemat-sourced, inconsistent, customer complaints' },
];

// ============================================================================
// ALL ATLAS PRODUCTS (Combined)
// ============================================================================
export const ALL_ATLAS_PRODUCTS = [
  ...EMBER_PRODUCTS,
  ...TERRA_PRODUCTS,
  ...PETAL_PRODUCTS,
  ...TIDAL_PRODUCTS,
];

// ============================================================================
// URL REDIRECT MAP (Old slug → New slug)
// ============================================================================
export const URL_REDIRECTS = [
  { from: '/products/granada-amber', to: '/product/beloved' },
  { from: '/products/honey-oudh', to: '/product/caravan' },
  { from: '/products/vanilla-sands', to: '/product/dune' },
  { from: '/products/teeb-musk', to: '/product/close' },
  { from: '/products/oud-fire', to: '/product/rogue' },
  { from: '/products/dubai-musk', to: '/product/dubai' },
  { from: '/products/himalayan-musk', to: '/product/clarity' },
  { from: '/products/frankincense-myrrh', to: '/product/devotion' },
  { from: '/products/black-musk', to: '/product/obsidian' },
  { from: '/products/cairo-musk', to: '/product/ancient' },
  { from: '/products/sicilian-oudh', to: '/product/sicily' },
  { from: '/products/marrakesh', to: '/product/marrakesh' },
  { from: '/products/oud-tobacco', to: '/product/havana' },
  { from: '/products/oud-aura', to: '/product/regalia' },
  { from: '/products/black-ambergris', to: '/product/onyx' },
  { from: '/products/arabian-jasmine', to: '/product/jasmine' },
  { from: '/products/turkish-rose', to: '/product/damascus' },
  { from: '/products/white-egyptian-musk', to: '/product/ritual' },
  { from: '/products/musk-tahara', to: '/product/tahara' },
  { from: '/products/peach-memoir', to: '/product/cherish' },
  { from: '/products/del-mare', to: '/product/delmar' },
  { from: '/products/blue-oudh', to: '/product/fathom' },
  { from: '/products/china-rain', to: '/product/kyoto' },
  { from: '/products/coconut-jasmine', to: '/product/bahia' },
  { from: '/products/regatta', to: '/product/regatta' },
  // Also handle /product/ paths (Next.js style)
  { from: '/product/granada-amber', to: '/product/beloved' },
  { from: '/product/honey-oudh', to: '/product/caravan' },
  { from: '/product/vanilla-sands', to: '/product/dune' },
  { from: '/product/teeb-musk', to: '/product/close' },
  { from: '/product/oud-fire', to: '/product/rogue' },
  { from: '/product/dubai-musk', to: '/product/dubai' },
  { from: '/product/himalayan-musk', to: '/product/clarity' },
  { from: '/product/frankincense-myrrh', to: '/product/devotion' },
  { from: '/product/black-musk', to: '/product/obsidian' },
  { from: '/product/cairo-musk', to: '/product/ancient' },
  { from: '/product/sicilian-oudh', to: '/product/sicily' },
  { from: '/product/oud-tobacco', to: '/product/havana' },
  { from: '/product/oud-aura', to: '/product/regalia' },
  { from: '/product/black-ambergris', to: '/product/onyx' },
  { from: '/product/arabian-jasmine', to: '/product/jasmine' },
  { from: '/product/turkish-rose', to: '/product/damascus' },
  { from: '/product/white-egyptian-musk', to: '/product/ritual' },
  { from: '/product/musk-tahara', to: '/product/tahara' },
  { from: '/product/peach-memoir', to: '/product/cherish' },
  { from: '/product/del-mare', to: '/product/delmar' },
  { from: '/product/blue-oudh', to: '/product/fathom' },
  { from: '/product/china-rain', to: '/product/kyoto' },
  { from: '/product/coconut-jasmine', to: '/product/bahia' },
];

// ============================================================================
// TERRITORY METADATA
// ============================================================================
export const TERRITORIES = {
  ember: {
    name: 'Ember',
    tagline: 'Warm, spice, amber, musk',
    description: 'Spice. Warmth. The intimacy of ancient routes.',
    price6ml: 28,
    price12ml: 48,
    position: 'Entry point, accessible',
  },
  terra: {
    name: 'Terra',
    tagline: 'Oud, woody, deep forest',
    description: 'Wood. Oud. The gravity of deep forests.',
    price6ml: 33,
    price12ml: 55,
    position: 'Premium, oud-heavy',
  },
  petal: {
    name: 'Petal',
    tagline: 'Floral, feminine, soft',
    description: 'Bloom. Herb. The exhale of living gardens.',
    price6ml: 30,
    price12ml: 50,
    position: 'Core collection',
  },
  tidal: {
    name: 'Tidal',
    tagline: 'Fresh, aquatic, citrus',
    description: 'Salt. Mist. The pull of open water.',
    price6ml: 30,
    price12ml: 50,
    position: 'Core collection',
  },
};

// ============================================================================
// HELPER: Find product by former name (case-insensitive)
// ============================================================================
export function findProductByFormerName(formerName) {
  const normalizedName = formerName.toLowerCase().trim();
  return ALL_ATLAS_PRODUCTS.find(
    (p) => p.formerName?.toLowerCase().trim() === normalizedName
  );
}

// ============================================================================
// HELPER: Get all products for a territory
// ============================================================================
export function getProductsByTerritory(territory) {
  return ALL_ATLAS_PRODUCTS.filter((p) => p.territory === territory);
}

// ============================================================================
// SUMMARY
// ============================================================================
export const COLLECTION_SUMMARY = {
  atlas: {
    total: ALL_ATLAS_PRODUCTS.length,
    ember: EMBER_PRODUCTS.length,
    petal: PETAL_PRODUCTS.length,
    tidal: TIDAL_PRODUCTS.length,
    terra: TERRA_PRODUCTS.length,
  },
  relic: {
    total: RELIC_PRODUCTS.length,
  },
  archive: {
    total: ARCHIVE_PRODUCTS.length,
  },
};

console.log('Atlas Collection Rebrand Data Loaded');
console.log(`Total Atlas Products: ${COLLECTION_SUMMARY.atlas.total}`);
console.log(`  - Ember: ${COLLECTION_SUMMARY.atlas.ember}`);
console.log(`  - Petal: ${COLLECTION_SUMMARY.atlas.petal}`);
console.log(`  - Tidal: ${COLLECTION_SUMMARY.atlas.tidal}`);
console.log(`  - Terra: ${COLLECTION_SUMMARY.atlas.terra}`);
console.log(`Total Relic Products: ${COLLECTION_SUMMARY.relic.total}`);
